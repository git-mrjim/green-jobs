import{_ as d,u as c,m as u,c as y,a as t,p as b,k as a,q as r,s as i,x as f,i as h,o as x}from"./index-Dslx25xT.js";import{a as m}from"./axios-upsvKRUO.js";const _={setup(){const n=h(),o=c(),l=n.params.id;return{route:n,toast:o,jobId:l}},data(){return{form:{type:"Full-Time",title:"",description:"",location:"",salary:"",company_name:"",company_description:"",company_contact_email:"",company_contact_phone:""},state:{job:{},isLoading:!0}}},methods:{async handleSubmit(){const n=new FormData;n.append("type",this.form.type),n.append("title",this.form.title),n.append("description",this.form.description),n.append("location",this.form.location),n.append("salary",this.form.salary),n.append("company_name",this.form.company_name),n.append("company_description",this.form.company_description),n.append("company_contact_email",this.form.company_contact_email),n.append("company_contact_phone",this.form.company_contact_phone);try{const o=await m.put(`http://localhost:3000/api/jobs/edit/${this.jobId}`,n,{headers:{"Content-Type":"multipart/form-data"}});this.toast.success("Job update successfully"),u.push(`/jobs/${o.data.id}`)}catch(o){console.error(o),this.toast.error("Failed to update job")}},async fetchJob(){try{const n=await m.get(`/api/jobs/${this.jobId}`);this.state.job=n.data,this.form.type=this.state.job.type,this.form.title=this.state.job.title,this.form.description=this.state.job.description,this.form.location=this.state.job.location,this.form.salary=this.state.job.salary,this.form.company_name=this.state.job.company_name,this.form.company_description=this.state.job.company_description,this.form.company_contact_email=this.state.job.company_contact_email,this.form.company_contact_phone=this.state.job.company_contact_phone}catch(n){console.error(n)}finally{this.state.isLoading=!1}}},mounted(){this.fetchJob()}},v={class:"bg-green-50"},K={class:"container m-auto max-w-2xl py-10"},$={class:"bg-white px-6 py-8 mb-4 shadow-md rounded-md border m-4 md:m-0"},w={class:"mb-4"},g={class:"mb-4"},j={class:"mb-4"},k={class:"mb-4"},V={class:"mb-4"},U={class:"mb-4"},T={class:"mb-4"},C={class:"mb-4"},J={class:"mb-4"};function q(n,o,l,I,s,p){return x(),y("section",v,[t("div",K,[t("div",$,[t("form",{onSubmit:o[9]||(o[9]=b((...e)=>p.handleSubmit&&p.handleSubmit(...e),["prevent"]))},[o[21]||(o[21]=t("h2",{class:"text-3xl text-center font-semibold mb-6"},"Edit Job",-1)),t("div",w,[o[11]||(o[11]=t("label",{for:"type",class:"block text-gray-700 font-bold mb-2"},"Job Type",-1)),a(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.form.type=e),id:"type",name:"type",class:"border rounded w-full py-2 px-3",required:""},o[10]||(o[10]=[t("option",{value:"Full-Time"},"Full-Time",-1),t("option",{value:"Part-Time"},"Part-Time",-1),t("option",{value:"Remote"},"Remote",-1),t("option",{value:"Internship"},"Internship",-1)]),512),[[r,s.form.type]])]),t("div",g,[o[12]||(o[12]=t("label",{for:"name",class:"block text-gray-700 font-bold mb-2"},"Job Listing Name",-1)),a(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>s.form.title=e),type:"text",id:"name",name:"title",class:"border rounded w-full py-2 px-3 mb-2",placeholder:"eg. Beautiful Apartment In Miami",required:""},null,512),[[i,s.form.title]])]),t("div",j,[o[13]||(o[13]=t("label",{for:"description",class:"block text-gray-700 font-bold mb-2"},"Description",-1)),a(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=e=>s.form.description=e),id:"description",name:"description",class:"border rounded w-full py-2 px-3",rows:"4",placeholder:"Add any job duties, expectations, requirements, etc"},null,512),[[i,s.form.description]])]),t("div",k,[o[15]||(o[15]=t("label",{for:"type",class:"block text-gray-700 font-bold mb-2"},"Salary",-1)),a(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.form.salary=e),id:"salary",name:"salary",class:"border rounded w-full py-2 px-3",required:""},o[14]||(o[14]=[f('<option value="Under $50K">under $50K</option><option value="$50K - $60K">$50 - $60K</option><option value="$60K - $70K">$60 - $70K</option><option value="$70K - $80K">$70 - $80K</option><option value="$80K - $90K">$80 - $90K</option><option value="$90K - $100K">$90 - $100K</option><option value="$100K - $125K">$100 - $125K</option><option value="$125K - $150K">$125 - $150K</option><option value="$150K - $175K">$150 - $175K</option><option value="$175K - $200K">$175 - $200K</option><option value="Over $200K">Over $200K</option>',11)]),512),[[r,s.form.salary]])]),t("div",V,[o[16]||(o[16]=t("label",{class:"block text-gray-700 font-bold mb-2"}," Location ",-1)),a(t("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>s.form.location=e),type:"text",id:"location",name:"location",class:"border rounded w-full py-2 px-3 mb-2",placeholder:"Company Location",required:""},null,512),[[i,s.form.location]])]),o[22]||(o[22]=t("h3",{class:"text-2xl mb-5"},"Company Info",-1)),t("div",U,[o[17]||(o[17]=t("label",{for:"company",class:"block text-gray-700 font-bold mb-2"},"Company Name",-1)),a(t("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>s.form.company_name=e),type:"text",id:"company",name:"company_name",class:"border rounded w-full py-2 px-3",placeholder:"Company Name"},null,512),[[i,s.form.company_name]])]),t("div",T,[o[18]||(o[18]=t("label",{for:"company_description",class:"block text-gray-700 font-bold mb-2"},"Company Description",-1)),a(t("textarea",{"onUpdate:modelValue":o[6]||(o[6]=e=>s.form.company_description=e),id:"company_description",name:"company_description",class:"border rounded w-full py-2 px-3",rows:"4",placeholder:"What does your company do?"},null,512),[[i,s.form.company_description]])]),t("div",C,[o[19]||(o[19]=t("label",{for:"contact_email",class:"block text-gray-700 font-bold mb-2"},"Contact Email",-1)),a(t("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>s.form.company_contact_email=e),type:"email",id:"contact_email",name:"company_contact_email",class:"border rounded w-full py-2 px-3",placeholder:"Email address for applicants",required:""},null,512),[[i,s.form.company_contact_email]])]),t("div",J,[o[20]||(o[20]=t("label",{for:"contact_phone",class:"block text-gray-700 font-bold mb-2"},"Contact Phone",-1)),a(t("input",{"onUpdate:modelValue":o[8]||(o[8]=e=>s.form.company_contact_phone=e),type:"tel",id:"contact_phone",name:"company_contact_phone",class:"border rounded w-full py-2 px-3",placeholder:"Optional phone for applicants"},null,512),[[i,s.form.company_contact_phone]])]),o[23]||(o[23]=t("div",null,[t("button",{class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full w-full focus:outline-none focus:shadow-outline",type:"submit"}," Update Job ")],-1))],32)])])])}const E=d(_,[["render",q]]);export{E as default};
