import{_ as p,R as _,e as c,o as n,c as r,a as t,t as i,d as m,b as g,w as x,F as h,g as y,h as j,f as v}from"./index-B8qHEkt7.js";import{P as L}from"./PulseLoader-3I9hcJRm.js";import{a as k}from"./axios-upsvKRUO.js";const D={components:{RouterLink:_},props:{job:Object},data(){return{showDescription:!1}},methods:{toggleShowDescription(){this.showDescription=!this.showDescription}},computed:{limitDescription(){let s=this.job.description;return this.showDescription||(s=s.substring(0,90)+"..."),s}}},J={class:"bg-white rounded-xl shadow-md relative"},B={class:"p-4"},R={class:"mb-6"},N={class:"text-gray-600 my-2"},S={class:"text-xl font-bold"},V={class:"mb-5"},C={class:"text-green-500 mb-2"},P={class:"flex flex-col lg:flex-row justify-between mb-4"},F={class:"text-orange-700 mb-3"};function M(s,e,o,f,a,l){const d=c("RouterLink");return n(),r("div",J,[t("div",B,[t("div",R,[t("div",N,i(o.job.type),1),t("h3",S,i(o.job.title),1)]),t("div",V,[t("div",null,i(l.limitDescription),1),t("button",{class:"text-green-500 hover:text-green-600 mb-5",onClick:e[0]||(e[0]=(...b)=>l.toggleShowDescription&&l.toggleShowDescription(...b))},i(a.showDescription?"Show Less":"Read More"),1)]),t("h3",C,i(o.job.salary),1),e[3]||(e[3]=t("div",{class:"border border-gray-100 mb-5"},null,-1)),t("div",P,[t("div",F,[e[1]||(e[1]=t("i",{class:"pi pi-map-marker text-orange-700"},null,-1)),m(" "+i(o.job.location),1)]),g(d,{to:`/jobs/${o.job.id}`,class:"h-[36px] bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-center text-sm"},{default:x(()=>e[2]||(e[2]=[m(" Read More ")])),_:1},8,["to"])])])])}const $=p(D,[["render",M]]),A={components:{JobListing:$,RouterLink:_,PulseLoader:L},props:{limit:Number,showButton:{type:Boolean,default:!1}},data(){return{state:{jobs:[],isLoading:!0}}},methods:{async fetchJobs(){try{const s=await k.get("https://greenjobs.vercel.app/api/jobs");this.state.jobs=s.data}catch(s){console.error(s)}finally{this.state.isLoading=!1}}},mounted(){this.fetchJobs()}},E={class:"bg-green-50 px-4 py-10"},O={class:"container-xl lg:container m-auto"},T={key:0,class:"text-center my-10"},q={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},z={key:0,class:"m-auto max-w-lg my-10 px-6"};function G(s,e,o,f,a,l){const d=c("PulseLoader"),b=c("JobListing"),w=c("RouterLink");return n(),r(h,null,[t("section",E,[t("div",O,[e[0]||(e[0]=t("h2",{class:"text-3xl font-bold text-green-500 mb-6 text-center"}," Browse Jobs ",-1)),a.state.isLoading?(n(),r("div",T,[g(d)])):(n(),r("div",q,[(n(!0),r(h,null,y(a.state.jobs.slice(0,o.limit||a.state.jobs.length),u=>(n(),v(b,{key:u.id,job:u},null,8,["job"]))),128))]))])]),o.showButton?(n(),r("section",z,[g(w,{to:"/jobs",class:"block bg-black text-white text-center py-4 px-6 rounded-xl hover:bg-gray-700"},{default:x(()=>e[1]||(e[1]=[m("View All Jobs")])),_:1})])):j("",!0)],64)}const Q=p(A,[["render",G]]);export{Q as J};
